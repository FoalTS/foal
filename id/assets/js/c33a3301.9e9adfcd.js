"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[4282],{18101:(e,s,n)=>{n.d(s,{A:()=>t});const t=n.p+"assets/images/banner-9fc23ebc71459854bb0a73031e1b1f88.png"},28453:(e,s,n)=>{n.d(s,{R:()=>a,x:()=>i});var t=n(96540);const o={},r=t.createContext(o);function a(e){const s=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function i(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),t.createElement(r.Provider,{value:s},e.children)}},61045:e=>{e.exports=JSON.parse('{"permalink":"/id/blog/2022/10/09/version-2.11-release-notes","editUrl":"https://github.com/FoalTS/foal/edit/master/docs/blog/2022-10-09-version-2.11-release-notes.md","source":"@site/blog/2022-10-09-version-2.11-release-notes.md","title":"Version 2.11 release notes","description":"Banner","date":"2022-10-09T00:00:00.000Z","tags":[{"inline":true,"label":"release","permalink":"/id/blog/tags/release"}],"readingTime":0.975,"hasTruncateMarker":true,"authors":[{"name":"Lo\xefc Poullain","title":"Creator of FoalTS. Software engineer.","url":"https://loicpoullain.com","socials":{"x":"https://x.com/Loic_Poullain","linkedin":"https://www.linkedin.com/in/loicpoullain/","github":"https://github.com/LoicPoullain","bluesky":"https://bsky.app/profile/loicpoullain.com","mastodon":"https://mastodon.social/@LoicPoullain"},"imageURL":"https://avatars1.githubusercontent.com/u/13604533?v=4","key":"LoicPoullain","page":null}],"frontMatter":{"title":"Version 2.11 release notes","authors":"LoicPoullain","image":"blog/twitter-banners/version-2.11-release-notes.png","tags":["release"]},"unlisted":false,"prevItem":{"title":"Version 3.0 release notes","permalink":"/id/blog/2022/11/01/version-3.0-release-notes"},"nextItem":{"title":"Version 2.10 release notes","permalink":"/id/blog/2022/08/11/version-2.10-release-notes"}}')},71794:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>l,contentTitle:()=>i,default:()=>d,frontMatter:()=>a,metadata:()=>t,toc:()=>h});var t=n(61045),o=n(74848),r=n(28453);const a={title:"Version 2.11 release notes",authors:"LoicPoullain",image:"blog/twitter-banners/version-2.11-release-notes.png",tags:["release"]},i=void 0,l={authorsImageUrls:[void 0]},h=[{value:"Number of Iterations on Password Hashing Has Been Increased",id:"number-of-iterations-on-password-hashing-has-been-increased",level:2}];function c(e){const s={a:"a",code:"code",h2:"h2",img:"img",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.p,{children:(0,o.jsx)(s.img,{alt:"Banner",src:n(18101).A+"",width:"914",height:"315"})}),"\n",(0,o.jsxs)(s.p,{children:["Version 2.11 of ",(0,o.jsx)(s.a,{href:"https://foalts.org/",children:"Foal"})," is out! Here are the improvements that it brings:"]}),"\n",(0,o.jsx)(s.h2,{id:"number-of-iterations-on-password-hashing-has-been-increased",children:"Number of Iterations on Password Hashing Has Been Increased"}),"\n",(0,o.jsx)(s.p,{children:"The PBKDF2 algorithm (used for password hashing) uses a number of iterations to hash passwords. This work factor is deliberate and slows down potential attackers, making attacks against hashed passwords more difficult."}),"\n",(0,o.jsx)(s.p,{children:"As computing power increases, the number of iterations must also increase. This is why, starting with version 2.11, the number of iterations has been increased to 310,000."}),"\n",(0,o.jsxs)(s.p,{children:["To check that an existing password hash is using the latest recommended number of iterations, you can use the ",(0,o.jsx)(s.code,{children:"passwordHashNeedsToBeRefreshed"})," function."]}),"\n",(0,o.jsx)(s.p,{children:"The example below shows how to perform this check during a login and how to upgrade the password hash if the number of iterations turns out to be too low."}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-typescript",children:"const { email, password } = ctx.request.body;\n\nconst user = await User.findOne({ email });\n\nif (!user) {\n  return new HttpResponseUnauthorized();\n}\n\nif (!await verifyPassword(password, user.password)) {\n  return new HttpResponseUnauthorized();\n}\n\n// highlight-start\n// This line must be after the password verification.\nif (passwordHashNeedsToBeRefreshed(user.password)) {\n  user.password = await hashPassword(password);\n  await user.save();\n}\n// highlight-end\n\n// Log the user in.\n"})})]})}function d(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,o.jsx)(s,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}}}]);